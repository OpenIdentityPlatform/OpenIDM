{
    "mappings" : [
        {
            "name" : "systemLdapAccounts_managedUser",
            "source" : "system/ldap/account",
            "target" : "managed/user",
            "properties" : [
                { "source" : "cn", "target" : "fullname" },
                { "source" : "description", "target" : "description" },
                { "source" : "givenName", "target" : "firstname" },
                { "source" : "mail", "target" : "email" },
                { "source" : "sn", "target" : "lastname" },
                { "source" : "uid", "target" : "uid" }
            ],
            "policies" : [
                { "situation" : "CONFIRMED", "action" : "UPDATE" },
                { "situation" : "FOUND", "action" : "UPDATE" },
                { "situation" : "ABSENT", "action" : "CREATE" },
                { "situation" : "AMBIGUOUS", "action" : "EXCEPTION" },
                { "situation" : "MISSING", "action" : "UNLINK" },
                { "situation" : "UNQUALIFIED", "action" : "DELETE" },
                { "situation" : "UNASSIGNED", "action" : "DELETE" }
            ]
        },
        {
            "name" : "managedUser_systemADAccounts",
            "source" : "managed/user",
            "target" : "system/ad/account",
            "properties" : [
                { "source" : "firstname", "target" : "givenName" },
                { "source" : "lastname", "target" : "sn" },
                { "source" : "fullname", "target" : "cn" },
                { "source" : "uid", "target" : "uid" },
                { "source" : "description", "target" : "description" },
                { "source" : "email", "target" : "mail" }
            ],
            "onCreate" : {
                "type" : "text/javascript",
                "source" : "target.dn = 'uid=' + source.uid + ',ou=people,o=ad';"
            },
            "policies" : [
                { "situation" : "CONFIRMED", "action" : "UPDATE" },
                { "situation" : "FOUND", "action" : "IGNORE" },
                { "situation" : "ABSENT", "action" : "CREATE" },
                { "situation" : "AMBIGUOUS", "action" : "IGNORE" },
                { "situation" : "MISSING", "action" : "IGNORE" },
                { "situation": "UNQUALIFIED", "action": "DELETE" },
                { "situation" : "UNASSIGNED", "action" : "IGNORE" }
            ]
        }       
    ]
}
