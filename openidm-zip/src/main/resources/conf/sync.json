{
    "mappings" : [
        {
            "name" : "systemXmlAccounts_managedUser",
            "source" : "system/xml/account",
            "target" : "managed/user",
            "validTarget": {
                "type": "text/javascript",
                "source": "object.employeeType == 'external'"
            },
            "properties" : [
                { "source" : "name", "target" : "name" },
                { "source" : "lastname", "target" : "lastname" },
                { "source" : "firstname", "target" : "firstname" },
                { "source" : "email", "target" : "email" },
                { "default" : "external", "target" : "employeeType " }
            ]
        },
        {
            "name": "managedUser_systemXmlTargetAccounts",
            "source": "managed/user",
            "target": "system/xmlTarget/account",
            "properties": [
                { "source" : "name", "target" : "name" },
                { "source" : "lastname", "target" : "lastname" },
                { "source" : "firstname", "target" : "firstname" },
                { "source" : "email", "target" : "email" },
                { "default" : "defaultpwd", "target" : "IGNORE__PASSWORD__" }
            ],
            "onCreate" : {
                "type": "text/javascript",
                "source": "target.__PASSWORD__ = 'defaultpwd'"
            }
        },
        {
            "name" : "systemLdapAccount_managedUser",
            "source" : "system/ldap/__ACCOUNT__",
            "target" : "managed/user",
            "validTarget": {
                "type": "text/javascript",
                "source": "object.employeeType == 'internal'"
            },
            "policies" : [
                {
                    "situation": "UNQUALIFIED",
                    "action": "IGNORE"
                }
            ],
            "properties" : [
                { "source" : "__NAME__", "target" : "distinguishedName" },
                { "source" : "uid", "target" : "name" },
                { "source" : "givenName", "target" : "firstname" },
                { "source" : "sn", "target" : "lastname" },
                { "source" : "description", "target" : "description" },
                { "source" : "employeeNumber", "target" : "employeeNumber" },
                { "source" : "homePhone", "target" : "homePhone" },
                { "source" : "initials", "target" : "initials" },
                { "source" : "l", "target" : "location" },
                { "source" : "mobile", "target" : "mobile" },
                { "source" : "pager", "target" : "pager" },
                { "source" : "mail", "target" : "email" },
                { "source" : "postalAddress", "target" : "postalAddress" },
                { "source" : "postalCode", "target" : "postalCode" },
                { "source" : "st", "target" : "state" },
                { "source" : "street", "target" : "street" },
                { "source" : "telephoneNumber", "target" : "telephoneNumber" },
                { "source" : "employeeType", "target" : "employeeType" },
                { "source" : "departmentNumber", "target" : "departmentNumber" },
                { "source" : "seeAlso", "target" : "seeAlso" },
                { "default" : "internal", "target" : "employeeType" }
            ]
        }
    ]
}
