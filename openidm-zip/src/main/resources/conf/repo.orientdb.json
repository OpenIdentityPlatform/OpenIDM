{
    "dbUrl" : "local:&{launcher.working.location}/db/openidm",
    "user" : "admin",
    "poolMinSize" : 5,
    "poolMaxSize" : 20,
    "queries" : {
        "get-by-field-value" : "select * FROM ${_resource} WHERE ${field} = :value",
        "get-users-of-role" : "select userName FROM ${_resource} WHERE roles matches '^(.*,)?${role}(,.*)?$'",
        "query-all-ids" : "select _openidm_id from ${_resource}",
        "query-all" : "select ${fields} from ${_resource}",
        "links-for-firstId" : "SELECT * FROM ${_resource} WHERE linkType = :linkType AND firstId = :firstId",
        "links-for-secondId" : "SELECT * FROM ${_resource} WHERE linkType = :linkType AND secondId = :secondId",
        "links-for-linkType" : "SELECT * FROM ${_resource} WHERE linkType = :linkType",
        "credential-query" : "SELECT * FROM ${_resource} WHERE userName = :username",
        "credential-internaluser-query" : "SELECT * FROM internal_user WHERE _openidm_id = :username",
        "for-userName" : "SELECT * FROM ${_resource} WHERE userName = :uid",
        "get-notifications-for-user" : "select * FROM ${_resource} WHERE receiverId = :userId order by createDate desc",
        "scan-tasks" : "SELECT * FROM ${_resource} WHERE ${dotnotation:property} < :condition.before AND ${taskState.completed} is NULL",
        "query-cluster-instances" : "SELECT * FROM cluster_states WHERE timestamp <= :timestamp AND (state = '1' OR state = '2')",

        "audit-by-mapping" : "select * FROM audit_recon WHERE mapping = ${mappingName}",
        "audit-by-recon-id" : "select * FROM audit_recon WHERE reconId = ${reconId}",
        "audit-by-recon-id-type" : "select * FROM audit_recon WHERE reconId = ${reconId} AND entryType = ${entryType}",
        "audit-by-recon-id-situation" : "select * FROM audit_recon WHERE reconId = ${reconId} AND situation = ${situation}",
        "audit-by-activity-parent-action" : "select * FROM audit_activity WHERE parentActionId = ${parentActionId}",
        "audit-last-recon-for-all-mappings" : "SELECT max(messageDetail.started) AS last_started,  max(messageDetail.ended) AS last_ended, mapping from audit_recon where entryType='summary' group by mapping"
    },
    "dbStructure" : {
        "orientdbClass" : {
            "internal_user" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "managed_organization" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "managed_role" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "managed_user" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "managed_group" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "managed_system" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "managed_account" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "ui_notification" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "link" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    },
                    {
                        "propertyName" : "linkType",
                        "propertyType" : "string",
                        "indexType" : "notunique"
                    },
                    {
                        "propertyName" : "firstId",
                        "propertyType" : "string",
                        "indexType" : "notunique"
                    },
                    {
                        "propertyName" : "secondId",
                        "propertyType" : "string",
                        "indexType" : "notunique"
                    },
                    {
                        "propertyName" : "reconId",
                        "propertyType" : "string",
                        "indexType" : "notunique"
                    }
                ]
            },
            "synchronisation_pooledSyncStage" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    },
                    {
                        "propertyName" : "sourceId",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    },
                    {
                        "propertyName" : "targetId",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    },
                    {
                        "propertyName" : "reconId",
                        "propertyType" : "string",
                        "indexType" : "notunique"
                    }
                ]
            },
            "config" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "scheduler" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "cluster_states" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "scheduler_triggers" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "scheduler_jobs" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "scheduler_calendars" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "scheduler_jobGroups" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "scheduler_triggerGroups" : {
                "index" : [
                    {
                        "propertyName" : "_openidm_id",
                        "propertyType" : "string",
                        "indexType" : "unique"
                    }
                ]
            },
            "audit_recon" : {
                "index" : [
                    {
                        "propertyName" : "reconId",
                        "propertyType" : "string",
                        "indexType" : "notunique"
                    }
                ]
            },
            "audit_activity" : {}
        }
    },
    "embeddedServer" : {
        "enabled" : true
    }
}
