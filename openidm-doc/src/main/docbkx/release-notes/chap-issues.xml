<?xml version="1.0" encoding="UTF-8"?>
<!--
  ! CCPL HEADER START
  !
  ! This work is licensed under the Creative Commons
  ! Attribution-NonCommercial-NoDerivs 3.0 Unported License.
  ! To view a copy of this license, visit
  ! http://creativecommons.org/licenses/by-nc-nd/3.0/
  ! or send a letter to Creative Commons, 444 Castro Street,
  ! Suite 900, Mountain View, California, 94041, USA.
  !
  ! You can also obtain a copy of the license at
  ! legal/CC-BY-NC-ND.txt.
  ! See the License for the specific language governing permissions
  ! and limitations under the License.
  !
  ! If applicable, add the following below this CCPL HEADER, with the fields
  ! enclosed by brackets "[]" replaced with your own identifying information:
  !      Portions Copyright [yyyy] [name of copyright owner]
  !
  ! CCPL HEADER END
  !
  !      Copyright 2011-2012 ForgeRock AS
  !    
-->
<chapter xml:id='chap-issues'
 xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en'
 xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
 xsi:schemaLocation='http://docbook.org/ns/docbook http://docbook.org/xml/5.0/xsd/docbook.xsd'
 xmlns:xlink='http://www.w3.org/1999/xlink'
 xmlns:xinclude='http://www.w3.org/2001/XInclude'>
 <title>OpenIDM Fixes, Limitations, &amp; Known Issues</title>

 <!-- TODO: Update for the release. -->
 <note>
  <para>The current list of fixes and issues reflects OpenIDM
  <?eval ${docTargetVersion}?> in progress as of February 13, 2013.</para>
 </note>

 <para>OpenIDM issues are tracked at <link
 xlink:href='https://bugster.forgerock.org/jira/browse/OPENIDM'
 >https://bugster.forgerock.org/jira/browse/OPENIDM</link>.
 </para>

 <section xml:id="fixes">
  <title>Fixes &amp; Improvements</title>

  <itemizedlist>
   <para>OpenIDM <?eval ${docTargetVersion}?> includes the following major
       fixes and improvements.</para>
     <!-- List generated at 10:14:27 20130207 using http://bugster.forgerock.org/jira/rest/api/2/search?jql=project+%3D+OPENIDM+AND+resolution+%3D+fixed+AND+fixVersion+%3D+%22OpenIDM+2.1.0+Xpress%22+AND+%28component+%21%3D+documentation+OR+component+is+EMPTY%29+AND+type+%3D+Bug&startAt=0&maxResults=500&fields=summary-->

         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1132" xlink:show="new">OPENIDM-1132</link>: Enhanced handling of systems where we can't read the password or where we may not always have the password (yet)</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1092" xlink:show="new">OPENIDM-1092</link>: Calls to openidm.update from within Workflow scripts trigger an exception</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1087" xlink:show="new">OPENIDM-1087</link>: ObjectMapping's call-back action does not support sync-based use-cases</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1060" xlink:show="new">OPENIDM-1060</link>: JSON Resource should decode URI (normalize)</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1055" xlink:show="new">OPENIDM-1055</link>: Add base type check to OpenIDMELResolver to resolve only openidm router operations</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1030" xlink:show="new">OPENIDM-1030</link>: IDM assessed the SOURCE_MISSING situation as the UNQUALIFIED situation in target recon</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1011" xlink:show="new">OPENIDM-1011</link>: Patch on managed/user failing with reauth required policy even when not changing a property requiring it</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1008" xlink:show="new">OPENIDM-1008</link>: Add not null check to openidm calls in ScopeFactoryService to avoid NPE when handling the result</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1006" xlink:show="new">OPENIDM-1006</link>: Users can modify any of their own attributes, potentially causing major security issues for syncing</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-998" xlink:show="new">OPENIDM-998</link>: openidm.create() and openidm.update() should return the UID and not NULL</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-990" xlink:show="new">OPENIDM-990</link>: Re-Auth-Required Policy not applying to PATCH</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-988" xlink:show="new">OPENIDM-988</link>: OpenDJ Password Synchronization Plugin raising error on password change in OpenDJ</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-987" xlink:show="new">OPENIDM-987</link>: Remove old startprocessinstance syntax from workflow integration</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-984" xlink:show="new">OPENIDM-984</link>: Custom Policies are executing multiple times per request</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-965" xlink:show="new">OPENIDM-965</link>: Encrypted password in boot.properties example does not authenticate</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-940" xlink:show="new">OPENIDM-940</link>: onValidate not triggering during recon via rest</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-936" xlink:show="new">OPENIDM-936</link>: Authorization access declarations need to be able to easily exclude access to specific actions on specifc resource</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-921" xlink:show="new">OPENIDM-921</link>: Provisioner fail coerce from String to some primitive types</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-914" xlink:show="new">OPENIDM-914</link>: CLI.SH configimport not working when using --replaceAll option</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-913" xlink:show="new">OPENIDM-913</link>: CLI.SH configimport not working when importing all set of files</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-911" xlink:show="new">OPENIDM-911</link>: OpenIDM LiveSync failed to sync user changes from OpenDJ source.</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-904" xlink:show="new">OPENIDM-904</link>: It must be possible to add policies without changing the defaults policy.js</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-884" xlink:show="new">OPENIDM-884</link>: Policy violations on PUT call are not getting properly propagated to callers</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-883" xlink:show="new">OPENIDM-883</link>: Align API with CREST 2.0 for compatibility</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-856" xlink:show="new">OPENIDM-856</link>: Re-authentication policy gets falsely applied during functions such as recon, and stops admin from resetting passwords</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-850" xlink:show="new">OPENIDM-850</link>: Policy service can not have required dependency on built in authentication module</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-845" xlink:show="new">OPENIDM-845</link>: NullPointer in command line encrypt</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-844" xlink:show="new">OPENIDM-844</link>: Policy Service support for sub-objects when policies are configured in managed.json</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-825" xlink:show="new">OPENIDM-825</link>: Running opeidm on Java7, getting startup error the system bundle exports the javax.transaction.xa package</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-818" xlink:show="new">OPENIDM-818</link>: Customizable OpenIDM info service</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-811" xlink:show="new">OPENIDM-811</link>: Client side execution of scripted policy validation functions</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-808" xlink:show="new">OPENIDM-808</link>: cli.sh/configimport is skipping some files in default mode and the --replaceAll option raises an error</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-805" xlink:show="new">OPENIDM-805</link>: Bug in router-authz.js script when evaluating customAuthz functions</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-802" xlink:show="new">OPENIDM-802</link>: Recon: Source reconciliation gives NP exception in certain UNQUALIFIED situation and default DELETE action.</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-797" xlink:show="new">OPENIDM-797</link>: Sample 3 - MySQL script is not correct on Windows + workaround</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-790" xlink:show="new">OPENIDM-790</link>: Add ability to set businessKey when starting process</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-778" xlink:show="new">OPENIDM-778</link>: Add the ability to filter the worklfow tasks based on candidate and candidategroup attributes</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-777" xlink:show="new">OPENIDM-777</link>: Separate task instance and definiton methods ot the workflow API</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-776" xlink:show="new">OPENIDM-776</link>: Add some missing attributes to the GET /workflow/taskinstance response object</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-775" xlink:show="new">OPENIDM-775</link>: Return HTTP 404 when the requested workflow resource is not found</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-774" xlink:show="new">OPENIDM-774</link>: Add superProcessInstanceId to the /workflow/processinstance/{id} response object</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-771" xlink:show="new">OPENIDM-771</link>: Change HTTP 400 return code to 403 where there is no operation implemented on the requested resource in workflow API</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-769" xlink:show="new">OPENIDM-769</link>: Change /workflow path to /workflow/processdefinition to be consistent with the other API operations</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-768" xlink:show="new">OPENIDM-768</link>: Remove processDefinitionId and/or key from workflow process variables when starting a workflow</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-741" xlink:show="new">OPENIDM-741</link>: Back-end pasword policy support</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-729" xlink:show="new">OPENIDM-729</link>: Remote Shell script password and username parameters requires special care</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-715" xlink:show="new">OPENIDM-715</link>: OpenIDM freezes on reconciliation</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-684" xlink:show="new">OPENIDM-684</link>: Scheduler - Trigger Acquisition Management in a Clustered Persistent Scheduler</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-682" xlink:show="new">OPENIDM-682</link>: REST API: Failed to delete a system object w/ condition in openDJ  </para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-679" xlink:show="new">OPENIDM-679</link>: Productize script execution on system objects</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-674" xlink:show="new">OPENIDM-674</link>: Lazy loading of source or target objects during reconciliation </para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-661" xlink:show="new">OPENIDM-661</link>: Special characters are not saved properly in MySQL Database with the default sample configuration.</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-629" xlink:show="new">OPENIDM-629</link>: Repository needs to ensure selects do not start implicit transactions</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-612" xlink:show="new">OPENIDM-612</link>: Support authentication query with user roles</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-602" xlink:show="new">OPENIDM-602</link>: Authentication bug in backend which makes impossible authentication with encrypted password</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-598" xlink:show="new">OPENIDM-598</link>: nullpointer exception when reading from activedirectory group, crash when writing to active drirectory group</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-593" xlink:show="new">OPENIDM-593</link>: The Json Resource Restlet 1.2.2 fails with the http://localhost:8080/openidm/managed/user?_action=create request </para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-564" xlink:show="new">OPENIDM-564</link>: OpenIDM and the Connector Server, under some conditions, fails to esatablish a connection with each other</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-527" xlink:show="new">OPENIDM-527</link>: All connectors must distinguish between successful empty results, and failures to obtain results</para></listitem>
     </itemizedlist>

 </section>

 <section xml:id="limitations">
  <title>Limitations</title>

  <para>A conditional GET request, with the <literal>If-None-Match</literal> 
  request header, is not currently supported.</para>

 </section>

 <section xml:id="known-issues">
  <title>Known Issues</title>
 
  <itemizedlist>
   <para>OpenIDM <?eval ${docTargetVersion}?> has the following known
   issues.</para>

         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1176" xlink:show="new">OPENIDM-1176</link>: Disabled schedules via dynamic scheduler API disappear</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1170" xlink:show="new">OPENIDM-1170</link>: Linux startup script generator is not working correctly</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1162" xlink:show="new">OPENIDM-1162</link>: With OrientDB, for a MISSING/CREATE situation/action, reconciliation creates a new link instead of using an existing link</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1133" xlink:show="new">OPENIDM-1133</link>: Certain sample files contain unnecessary, unused entries</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1129" xlink:show="new">OPENIDM-1129</link>: OpenIDM freezes when the connection to the repository is interrupted</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1117" xlink:show="new">OPENIDM-1117</link>: Malformed content-type request header produces 500 error</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1115" xlink:show="new">OPENIDM-1115</link>: When an LDAP user is created through the REST API, the _id that is returned is not normalized</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1098" xlink:show="new">OPENIDM-1098</link>: onDelete script generates exception</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1096" xlink:show="new">OPENIDM-1096</link>: A PUT command on a configuration object may return an incorrect value</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1094" xlink:show="new">OPENIDM-1094</link>: Starting a second OpenIDM instance with a conflicting port causes the instance to freeze</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-1093" xlink:show="new">OPENIDM-1093</link>: A user's accountStatus (active or inactive) has no effect on the UI or the REST API</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-964" xlink:show="new">OPENIDM-964</link>: An incorrect password in boot.properties causes OpenIDM to hang on startup</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-848" xlink:show="new">OPENIDM-848</link>: Conflicting behavior might be observed between the default fields set by the onCreate script and policy enforcement</para></listitem>
         <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENIDM-803" xlink:show="new">OPENIDM-803</link>: For reconciliation, the default DELETE action does not delete target objects when targets are ambiguous, including UNQUALIFIED situations, if there is more than one target</para></listitem>
     </itemizedlist>

 </section>
</chapter>
