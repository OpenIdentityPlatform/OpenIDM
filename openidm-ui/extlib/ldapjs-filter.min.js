/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

// Copyright 2011 Mark Cavage, Inc.  All rights reserved.

define("ldapjs-filter",function(){var e,t,n;return function(r){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,t){return function(){return s.apply(r,p.call(arguments,0).concat([e,t]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},i=function(e,t,n,i){var s,l,h,p,d,m=[],y=typeof n,E;i=i||e;if(y==="undefined"||y==="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(d=0;d<t.length;d+=1){p=o(t[d],i),l=p.f;if(l==="require")m[d]=u.require(e);else if(l==="exports")m[d]=u.exports(e),E=!0;else if(l==="module")s=m[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=n?n.apply(a[e],m):undefined;if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!E)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){if(typeof e=="string")return u[e]?u[e](t):w(o(e,t).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s},s.config=function(e){return s(e)},e._defined=a,n=function(e,t,n){t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../almond",function(){}),n("protocol",[],function(){var e={};return e.exports={LDAP_VERSION_3:3,LBER_SET:49,LDAP_CONTROLS:160,SCOPE_BASE_OBJECT:0,SCOPE_ONE_LEVEL:1,SCOPE_SUBTREE:2,NEVER_DEREF_ALIASES:0,DEREF_IN_SEARCHING:1,DEREF_BASE_OBJECT:2,DEREF_ALWAYS:3,FILTER_AND:160,FILTER_OR:161,FILTER_NOT:162,FILTER_EQUALITY:163,FILTER_SUBSTRINGS:164,FILTER_GE:165,FILTER_LE:166,FILTER_PRESENT:135,FILTER_APPROX:168,FILTER_EXT:169,LDAP_REQ_BIND:96,LDAP_REQ_UNBIND:66,LDAP_REQ_SEARCH:99,LDAP_REQ_MODIFY:102,LDAP_REQ_ADD:104,LDAP_REQ_DELETE:74,LDAP_REQ_MODRDN:108,LDAP_REQ_COMPARE:110,LDAP_REQ_ABANDON:80,LDAP_REQ_EXTENSION:119,LDAP_REP_BIND:97,LDAP_REP_SEARCH_ENTRY:100,LDAP_REP_SEARCH_REF:115,LDAP_REP_SEARCH:101,LDAP_REP_MODIFY:103,LDAP_REP_ADD:105,LDAP_REP_DELETE:107,LDAP_REP_MODRDN:109,LDAP_REP_COMPARE:111,LDAP_REP_EXTENSION:120},e.exports}),n("filter",["require","./protocol"],function(e){var t=e("./protocol"),n=function(e){if(!e||typeof e!="object")throw new TypeError("options (object) required");if(typeof e.type!="number")throw new TypeError("options.type (number) required");this._type=e.type;var n=this;Object.defineProperty(this,"type",{get:function(){switch(n._type){case t.FILTER_AND:return"and";case t.FILTER_OR:return"or";case t.FILTER_NOT:return"not";case t.FILTER_EQUALITY:return"equal";case t.FILTER_SUBSTRINGS:return"substring";case t.FILTER_GE:return"ge";case t.FILTER_LE:return"le";case t.FILTER_PRESENT:return"present";case t.FILTER_APPROX:return"approx";case t.FILTER_EXT:return"ext";default:throw new Error("0x"+n._type.toString(16)+" is an invalid search filter")}}})};return n.multi_test=function(e,t){if(Array.isArray(t)){var n=!1;for(var r=0;r<t.length;r++)if(e(t[r])){n=!0;break}return n}return e(t)},n}),n("util",[],function(){return{inherits:function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}}}),n("and_filter",["require","./util","./filter","./protocol"],function(e){function s(e){if(typeof e=="object"){if(!e.filters||!Array.isArray(e.filters))throw new TypeError("options.filters ([Filter]) required");this.filters=e.filters.slice()}else e={};e.type=i.FILTER_AND,r.call(this,e),this.filters||(this.filters=[]);var t=this;Object.defineProperty(this,"json",{get:function(){return{type:"And",filters:t.filters||[]}}})}var t={},n=e("./util"),r=e("./filter"),i=e("./protocol");return n.inherits(s,r),t.exports=s,s.prototype.toString=function(){var e="(&";return this.filters.forEach(function(t){e+=t.toString()}),e+=")",e},s.prototype.matches=function(e){if(typeof e!="object")throw new TypeError("target (object) required");var t=this.filters.length?!0:!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].matches(e))return!1;return t},s.prototype.addFilter=function(e){if(!e||typeof e!="object")throw new TypeError("filter (object) required");this.filters.push(e)},s.prototype._toBer=function(e){return this.filters.forEach(function(t){e=t.toBer(e)}),e},t.exports}),n("escape",["require"],function(e){var t={};return t.escape=function(e){if(typeof e=="string"){var t="";for(var n=0;n<e.length;n++)switch(e[n]){case"(":t+="\\28";break;case")":t+="\\29";break;case"\\":t+="\\5c";break;case"\0":t+="\\00";break;default:t+=e[n]}return t}return e},t}),n("approx_filter",["require","./util","./escape","./filter","./protocol"],function(e){function o(e){if(typeof e=="object"){if(typeof e.attribute!="string")throw new TypeError("options.attribute (string) required");if(typeof e.value!="string")throw new TypeError("options.value (string) required");this.attribute=e.attribute,this.value=e.value}else e={};e.type=s.FILTER_APPROX,i.call(this,e);var t=this;Object.defineProperty(this,"json",{get:function(){return{type:"ApproximateMatch",attribute:t.attribute||undefined,value:t.value||undefined}}})}var t={},n=e("./util"),r=e("./escape").escape,i=e("./filter"),s=e("./protocol");return n.inherits(o,i),t.exports=o,o.prototype.toString=function(){return"("+r(this.attribute)+"~="+r(this.value)+")"},o.prototype.matches=function(e){if(typeof e!="object")throw new TypeError("target (object) required");var t=!1;if(e.hasOwnProperty(this.attribute)){var n=e[this.attribute];Array.isArray(n)?t=n.indexOf(this.value)!=-1:t=this.value===e[this.attribute]}return t},o.prototype.parse=function(e){return this.attribute=e.readString().toLowerCase(),this.value=e.readString(),!0},o.prototype._toBer=function(e){return e.writeString(this.attribute),e.writeString(this.value),e},t.exports}),n("equality_filter",["require","./util","./escape","./filter","./protocol"],function(e){function o(e){if(typeof e=="object"){if(typeof e.attribute!="string")throw new TypeError("options.attribute (string) required");if(typeof e.value!="string")throw new TypeError("options.value (string) required");this.attribute=e.attribute,this.value=e.value}else e={};e.type=s.FILTER_EQUALITY,i.call(this,e);var t=this;Object.defineProperty(this,"json",{get:function(){return{type:"EqualityMatch",attribute:t.attribute||undefined,value:t.value||undefined}}})}var t={},n=e("./util"),r=e("./escape").escape,i=e("./filter"),s=e("./protocol");return n.inherits(o,i),t.exports=o,o.prototype.toString=function(){return"("+r(this.attribute)+"="+r(this.value)+")"},o.prototype.matches=function(e){if(typeof e!="object")throw new TypeError("target (object) required");var t=this;if(e.hasOwnProperty(this.attribute)){var n=this.value;return i.multi_test(function(e){return t.attribute==="objectclass"&&(e=e.toLowerCase()),n===e},e[this.attribute])}return!1},o.prototype.parse=function(e){return this.attribute=e.readString().toLowerCase(),this.value=e.readString(),this.attribute==="objectclass"&&(this.value=this.value.toLowerCase()),!0},o.prototype._toBer=function(e){return e.writeString(this.attribute),e.writeString(this.value),e},t.exports}),n("ext_filter",["require","./util","./filter","./protocol"],function(e){function s(e){if(typeof e=="object"){if(e.rule&&typeof e.rule!="string")throw new TypeError("options.rule must be a string");if(e.matchType&&typeof e.matchType!="string")throw new TypeError("options.type must be a string");if(e.value&&typeof e.value!="string")throw new TypeError("options.value (string) required")}else e={};this.matchType=e.matchType||null,this.rule=e.rule||null,this.value=e.value||"",this.dnAttributes=e.dnAttributes||!1,e.type=i.FILTER_EXT,r.call(this,e);var t=this;Object.defineProperty(this,"json",{get:function(){return{type:"ExtensibleMatch",matchRule:t.rule,matchType:t.matchType,matchValue:t.value,dnAttributes:t.dnAttributes}}}),Object.defineProperty(this,"matchingRule",{get:function(){return t.rule}}),Object.defineProperty(this,"matchValue",{get:function(){return t.value}})}var t={},n=e("./util"),r=e("./filter"),i=e("./protocol");return n.inherits(s,r),t.exports=s,s.prototype.toString=function(){var e="(";return this.matchType&&(e+=this.matchType),e+=":",this.dnAttributes&&(e+="dn:"),this.rule&&(e+=this.rule+":"),e+"="+this.value+")"},s.prototype.matches=function(e){if(typeof e!="object")throw new TypeError("target (object) required");if(this.dnAttribute)throw new Error("ExtensibleMatch dnAttributes not supported");if(!this.value)return!1;var t=this;return this.matchType&&e.hasOwnProperty(this.matchType)?r.multi_test(function(e){return t.rule==="2.5.13.2"?t.value.toLowerCase()===e.toLowerCase():t.value===e},e[this.matchType]):!1},s.prototype.parse=function(e){var t=e.offset+e.length;while(e.offset<t){var n=e.peek();switch(n){case 129:this.rule=e.readString(n);break;case 130:this.matchType=e.readString(n);break;case 131:this.value=e.readString(n);break;case 132:this.dnAttributes=e.readBoolean(n);break;default:throw new Error("Invalid ext_match filter type: 0x"+n.toString(16))}}return!0},s.prototype._toBer=function(e){return this.rule&&e.writeString(this.rule,129),this.matchType&&e.writeString(this.matchType,130),e.writeString(this.value,131),this.dnAttributes&&e.writeBoolean(this.dnAttributes,132),e},t.exports}),n("ge_filter",["require","./util","./escape","./filter","./protocol"],function(e){function o(e){if(typeof e=="object"){if(typeof e.attribute!="string")throw new TypeError("options.attribute (string) required");if(typeof e.value!="string")throw new TypeError("options.value (string) required");this.attribute=e.attribute,this.value=e.value}else e={};e.type=s.FILTER_GE,i.call(this,e);var t=this;Object.defineProperty(this,"json",{get:function(){return{type:"GreaterThanEqualsMatch",attribute:t.attribute||undefined,value:t.value||undefined}}})}var t={},n=e("./util"),r=e("./escape").escape,i=e("./filter"),s=e("./protocol");return n.inherits(o,i),t.exports=o,o.prototype.toString=function(){return"("+r(this.attribute)+">="+r(this.value)+")"},o.prototype.matches=function(e){if(typeof e!="object")throw new TypeError("target (object) required");if(e.hasOwnProperty(this.attribute)){var t=this.value;return i.multi_test(function(e){return t<=e},e[this.attribute])}return!1},o.prototype.parse=function(e){return this.attribute=e.readString().toLowerCase(),this.value=e.readString(),!0},o.prototype._toBer=function(e){return e.writeString(this.attribute),e.writeString(this.value),e},t.exports}),n("le_filter",["require","./util","./escape","./filter","./protocol"],function(e){function o(e){if(typeof e=="object"){if(typeof e.attribute!="string")throw new TypeError("options.attribute (string) required");if(typeof e.value!="string")throw new TypeError("options.value (string) required");this.attribute=e.attribute,this.value=e.value}else e={};e.type=s.FILTER_LE,i.call(this,e);var t=this;Object.defineProperty(this,"json",{get:function(){return{type:"LessThanEqualsMatch",attribute:t.attribute||undefined,value:t.value||undefined}}})}var t={},n=e("./util"),r=e("./escape").escape,i=e("./filter"),s=e("./protocol");return n.inherits(o,i),t.exports=o,o.prototype.toString=function(){return"("+r(this.attribute)+"<="+r(this.value)+")"},o.prototype.matches=function(e){if(typeof e!="object")throw new TypeError("target (object) required");if(e.hasOwnProperty(this.attribute)){var t=this.value;return i.multi_test(function(e){return t>=e},e[this.attribute])}return!1},o.prototype.parse=function(e){return this.attribute=e.readString().toLowerCase(),this.value=e.readString(),!0},o.prototype._toBer=function(e){return e.writeString(this.attribute),e.writeString(this.value),e},t.exports}),n("not_filter",["require","./util","./filter","./protocol"],function(e){function s(e){if(typeof e=="object"){if(!e.filter||!(e.filter instanceof r))throw new TypeError("options.filter (Filter) required")}else e={};this.filter=e.filter||{},e.type=i.FILTER_NOT,r.call(this,e);var t=this;Object.defineProperty(this,"json",{get:function(){return{type:"Not",filter:t.filter}}})}var t={},n=e("./util"),r=e("./filter"),i=e("./protocol");return n.inherits(s,r),t.exports=s,s.prototype.addFilter=function(e){if(!(e instanceof r))throw new TypeError("filter (Filter) required");this.filter=e},s.prototype.toString=function(){return"(!"+this.filter.toString()+")"},s.prototype.matches=function(e){return!this.filter.matches(e)},s.prototype._toBer=function(e){return this.filter.toBer(e)},t.exports}),n("or_filter",["require","./util","./filter","./protocol"],function(e){function s(e){if(typeof e=="object"){if(!e.filters||!Array.isArray(e.filters))throw new TypeError("options.filters ([Filter]) required");this.filters=e.filters.slice()}else e={};e.type=i.FILTER_OR,r.call(this,e),this.filters||(this.filters=[]);var t=this;Object.defineProperty(this,"json",{get:function(){return{type:"Or",filters:t.filters||[]}}})}var t={},n=e("./util"),r=e("./filter"),i=e("./protocol");return n.inherits(s,r),t.exports=s,s.prototype.toString=function(){var e="(|";return this.filters.forEach(function(t){e+=t.toString()}),e+=")",e},s.prototype.matches=function(e){if(typeof e!="object")throw new TypeError("target (object) required");for(var t=0;t<this.filters.length;t++)if(this.filters[t].matches(e))return!0;return!1},s.prototype.addFilter=function(e){if(!e||typeof e!="object")throw new TypeError("filter (object) required");this.filters.push(e)},s.prototype._toBer=function(e){return this.filters.forEach(function(t){e=t.toBer(e)}),e},t.exports}),n("presence_filter",["require","./util","./escape","./filter","./protocol"],function(e){function o(e){if(typeof e=="object"){if(!e.attribute||typeof e.attribute!="string")throw new TypeError("options.attribute (string) required");this.attribute=e.attribute}else e={};e.type=s.FILTER_PRESENT,i.call(this,e);var t=this;Object.defineProperty(this,"json",{get:function(){return{type:"PresenceMatch",attribute:t.attribute||undefined}}})}var t={},n=e("./util"),r=e("./escape").escape,i=e("./filter"),s=e("./protocol");return n.inherits(o,i),t.exports=o,o.prototype.toString=function(){return"("+r(this.attribute)+"=*)"},o.prototype.matches=function(e){if(typeof e!="object")throw new TypeError("target (object) required");return e.hasOwnProperty(this.attribute)},o.prototype.parse=function(e){return this.attribute=e.buffer.slice(0,e.length).toString("utf8").toLowerCase(),e._offset+=e.length,!0},o.prototype._toBer=function(e){for(var t=0;t<this.attribute.length;t++)e.writeByte(this.attribute.charCodeAt(t));return e},t.exports}),n("substr_filter",["require","./util","./escape","./filter","./protocol"],function(e){function o(e){if(typeof e=="object"){if(!e.attribute||typeof e.attribute!="string")throw new TypeError("options.attribute (string) required");this.attribute=e.attribute,this.initial=e.initial?e.initial:null,this.any=e.any?e.any.slice(0):[],this["final"]=e["final"]||null}else e={};this.any||(this.any=[]),e.type=s.FILTER_SUBSTRINGS,i.call(this,e);var t=this;Object.defineProperty(this,"json",{get:function(){return{type:"SubstringMatch",initial:t.initial||undefined,any:t.any||undefined,"final":t["final"]||undefined}}})}function u(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var t={},n=e("./util"),r=e("./escape").escape,i=e("./filter"),s=e("./protocol");return n.inherits(o,i),t.exports=o,o.prototype.toString=function(){var e="("+r(this.attribute)+"=";return this.initial&&(e+=r(this.initial)),e+="*",this.any.forEach(function(t){e+=r(t)+"*"}),this["final"]&&(e+=r(this["final"])),e+=")",e},o.prototype.matches=function(e){if(typeof e!="object")throw new TypeError("target (object) required");if(e.hasOwnProperty(this.attribute)){var t="";this.initial&&(t+="^"+u(this.initial)+".*"),this.any.forEach(function(e){t+=u(e)+".*"}),this["final"]&&(t+=u(this["final"])+"$");var n=new RegExp(t),r=this;return i.multi_test(function(e){return r.attribute==="objectclass"&&(e=e.toLowerCase()),n.test(e)},e[this.attribute])}return!1},o.prototype.parse=function(e){this.attribute=e.readString().toLowerCase(),e.readSequence();var t=e.offset+e.length;while(e.offset<t){var n=e.peek();switch(n){case 128:this.initial=e.readString(n),this.attribute==="objectclass"&&(this.initial=this.initial.toLowerCase());break;case 129:var r=e.readString(n);this.attribute==="objectclass"&&(r=r.toLowerCase()),this.any.push(r);break;case 130:this["final"]=e.readString(n),this.attribute==="objectclass"&&(this["final"]=this["final"].toLowerCase());break;default:throw new Error("Invalid substrings filter type: 0x"+n.toString(16))}}return!0},o.prototype._toBer=function(e){return e.writeString(this.attribute),e.startSequence(),this.initial&&e.writeString(this.initial,128),this.any&&this.any.length&&this.any.forEach(function(t){e.writeString(t,129)}),this["final"]&&e.writeString(this["final"],130),e.endSequence(),e},t.exports}),n("ldapjs-filter",["require","./protocol","./filter","./and_filter","./approx_filter","./equality_filter","./ext_filter","./ge_filter","./le_filter","./not_filter","./or_filter","./presence_filter","./substr_filter"],function(e){function d(e,t){var n=[],r=!1;for(var i=t||0;i<e.length;i++){var s=e[i];if(s==="\\"){r||(r=!0);continue}if(s==="("&&!r)n.push(1);else if(s===")"&&!r){n.pop();if(n.length===0)return i}r=!1}var o=e.length-1;if(e.charAt(o)!==")")throw new Error(e+" has unbalanced parentheses");return o}function v(e){var t,n,r=!1,i,s=!1,o=0,u={},a,f=0,l="";if(e.length===0)return u;e.charAt(0)=="("&&(e=e.substring(1,e.length-1)),e.charAt(0)==="&"?(u.op="and",e=e.substring(1)):e.charAt(0)==="|"?(u.op="or",e=e.substring(1)):e.charAt(0)==="!"?(u.op="not",e=e.substring(1)):u.op="expr";if(u.op!="expr"){u.children=[];while(e.length!==0)i=d(e),i==e.length-1?(u.children[o]=v(e),e=""):(n=e.slice(0,i+1),e=e.substring(i+1),u.children[o]=v(n)),o++}else{var c="";u.name="",u.value="";if(e.indexOf("~=")!==-1)c="~=",u.tag="approxMatch";else if(e.indexOf(">=")!==-1)c=">=",u.tag="greaterOrEqual";else if(e.indexOf("<=")!==-1)c="<=",u.tag="lessOrEqual";else if(e.indexOf(":=")!==-1)c=":=",u.tag="extensibleMatch";else{if(e.indexOf("=")===-1)throw new Error("invalid filter syntax");c="=",u.tag="equalityMatch"}if(c==="")u.name=e;else{var h=e.split(c);u.name=h.shift(),u.value=h.join(c);if(u.tag=="extensibleMatch"){a=u.name.split(":"),u.extensible={matchType:a[0],value:u.value};switch(a.length){case 1:break;case 2:a[1].toLowerCase()==="dn"?u.extensible.dnAttributes=!0:u.extensible.rule=a[1];break;case 3:u.extensible.dnAttributes=!0,u.extensible.rule=a[2];break;default:throw new Error("Invalid extensible filter")}}}if(!r){for(o=0;o<u.value.length;o++)t=u.value[o],s?(l+=t,s=!1):t==="\\"?s=!0:l+=t;u.value=l}}return u}function m(e,t){if(e===undefined||e.length===0)return;var n=null;if(e.op!=="expr"){switch(e.op){case"and":n=new i;break;case"or":n=new c;break;case"not":n=new l;break;default:}t.addFilter(n||t),(n||e.children.length)&&e.children.forEach(function(e){m(e,n)})}else{var r;switch(e.tag){case"approxMatch":r=new s({attribute:e.name,value:e.value});break;case"extensibleMatch":r=new u(e.extensible);break;case"greaterOrEqual":r=new a({attribute:e.name,value:e.value});break;case"lessOrEqual":r=new f({attribute:e.name,value:e.value});break;case"equalityMatch":r=new o({attribute:e.name,value:e.value});break;case"substrings":r=new p({attribute:e.name,initial:e.initial,any:e.any,"final":e["final"]});break;case"present":r=new h({attribute:e.name});break;default:}r&&t.addFilter(r)}}function g(e){var t=new i({filters:[]});return m(v(e),t),t.filters[0]}function y(e){function t(t){var n=e.offset+e.length;while(e.offset<n)t.addFilter(y(e))}var r,d=e.readSequence();switch(d){case n.FILTER_AND:r=new i,t(r);break;case n.FILTER_APPROX:r=new s,r.parse(e);break;case n.FILTER_EQUALITY:return r=new o,r.parse(e),r;case n.FILTER_EXT:return r=new u,r.parse(e),r;case n.FILTER_GE:return r=new a,r.parse(e),r;case n.FILTER_LE:return r=new f,r.parse(e),r;case n.FILTER_NOT:var v=y(e);r=new l({filter:v});break;case n.FILTER_OR:r=new c,t(r);break;case n.FILTER_PRESENT:r=new h,r.parse(e);break;case n.FILTER_SUBSTRINGS:r=new p,r.parse(e);break;default:throw new Error("Invalid search filter type: 0x"+d.toString(16))}return r}var t={},n=e("./protocol"),r=e("./filter"),i=e("./and_filter"),s=e("./approx_filter"),o=e("./equality_filter"),u=e("./ext_filter"),a=e("./ge_filter"),f=e("./le_filter"),l=e("./not_filter"),c=e("./or_filter"),h=e("./presence_filter"),p=e("./substr_filter");return{buildFilterTree:v,serializeFilterTree:function(e){var t=new i({filters:[]});return m(e,t),t.filters[0].toString()}}}),t("ldapjs-filter")});
