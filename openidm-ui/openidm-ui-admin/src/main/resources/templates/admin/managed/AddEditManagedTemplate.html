<div class="container">
    <div class="page-header">
        <h1>{{addEditTitle}}
            <div  class="pull-right help-link">
                <a href="{{docHelpUrl}}integrators-guide/index.html#chap-users-groups-roles" target="_blank">{{t "templates.connector.help"}} <i class="fa fa-question-circle"></i></a>
            </div>
        </h1>
    </div>
    <div class="panel panel-default panel-content">
        <form id="managedObjectForm" class="form-horizontal" role="form" autocomplete="off">
            <div id="managedForm2JS" class="panel-body panel-collapse-body">
                <div class="panel panel-default panel-collapse">
                    <div class="panel-heading" role="tab" id="generalDetailsHeading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" href="#generalDetails" aria-expanded="true" aria-controls="ldapSelectionHeading">{{t "common.form.generalDetails"}}</a>
                        </h4>
                    </div>
                    <div id="generalDetails" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="generalDetails" aria-expanded="true">
                        <div class="panel-body">
                            <div class="form-group has-feedback">
                                <label for="managedObjectName" class="col-sm-3 control-label">{{t "templates.managed.managedObjectName"}}</label>
                                <div class="col-sm-8">
                                    <input class="form-control" type="text" id="managedObjectName" name="name" value="{{currentManagedObject.name}}" data-validator="required" data-validator-event="keyup blur" required autofocus/>
                                    <div class="validation-message"></div>
                                    <span class="error form-control-feedback"><i class='fa validation-icon'></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default panel-collapse">
                    <div class="panel-heading" role="tab" id="managedScriptsHeading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" href="#managedScripts" aria-expanded="true" aria-controls="managedScriptsHeading" class="">Managed Scripts</a>
                        </h4>
                    </div>
                    <div id="managedScripts" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="managedScripts" aria-expanded="true">
                           <div class=" col-sm-8">
                               <label class="control-label">Add script for managed events.</label>
                           </div>
                           <div class=" col-sm-5">
                               <select class="select-button-form btn-block" id="managedScriptSelection">
                                   {{#each selectEvents}}
                                   <option value="{{this}}">{{this}}</option>
                                   {{/each}}
                               </select>
                           </div>
                        <div class="panel-body">
                            <div class="form-group has-feedback">
                                <div class=" col-sm-3">
                                    <button type="button" id="addManagedScript" name="addManagedScript" class="btn btn-primary btn-block"><span>Add Script</span> <i class="fa fa-lg fa-plus"></i></button>
                                </div>
                            </div>
                            <div id="mainHooksBody" class="scripts-container">
                                <div class="group-field-block">
                                    {{#each addedEvents}}
                                    <div data-script-type="{{this}}" class="managed-event-hook"></div>
                                    {{/each}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                
                <div class="panel panel-default panel-collapse">
                    <div class="panel-heading" role="tab" id="managedPropertiesHeading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" href="#managedProperties" aria-expanded="true" aria-controls="managedPropertiesHeading" class="">{{t "templates.managed.managedProperties"}}</a>
                        </h4>
                    </div>
                    <div id="managedProperties" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="managedProperties" aria-expanded="true">
                        <div class=" col-sm-11">
                            <label>{{t "templates.managed.managedPropertyMessage"}}</label>
                        </div>
                        <div class="col-sm-3">
                            <button type="button" id="addManagedProperties" name="addManagedProperties" class="btn btn-primary btn-block"><span>{{t "templates.managed.addProperty"}}</span> <i class="fa fa-lg fa-plus"></i></button>
                        </div>
                        <div class="panel-body">
                            <div id="managedPropertyWrapper">
                                <div style="display:none;" id="managed-object-hidden-property" class="col-sm-11 managed-property">
                                    <div class="separate-message add-remove-block form-inline">
                                        <div class="input-group">
                                            <div class="input-group-addon">
                                                <button type="button" title="" class="clean-btn property-remove remove-btn"><i class="fa fa-lg fa-times-circle"></i></button>
                                            </div>
                                            <input  class="form-control" autocomplete="off" type="text" name="" value=""/>
                                            <span></span> 
                                            <label class="inline-label">
                                                <input autocomplete="off" type="checkbox" class="checkbox" name="" value="true">
                                                {{t "templates.managed.encrypted"}}
                                            </label> 
                                            <label class="inline-label">
                                                <input autocomplete="off" type="checkbox" class="checkbox" name="" value="true">
                                                {{t "templates.managed.private"}}
                                            </label> 
                                            <label class="inline-label">
                                                <input autocomplete="off" type="checkbox" class="checkbox" name="" value="true">
                                                {{t "templates.managed.virtual"}}
                                            </label>
                                        </div>
                                        <div class="validation-message"></div>
                                    </div>
                                    <div>
                                        <label class="control-label">Add script for property events.</label>
                                        <div>
                                            <div class="col-sm-3">
                                                <select class="form-size-m select-button-form btn-block">
                                                    {{#each propertiesEventList}}
                                                    <option value="{{this}}">{{this}}</option>
                                                    {{/each}}
                                                </select>
                                            </div>
                                            <div class="col-sm-3">
                                                <button type="button" class="btn btn-primary add-property-script btn-block"><span>Add Script</span> <i class="fa fa-lg fa-plus"></i></button>
                                            </div>
                                            <div class="group-body col-lg-10 scripts-container">
                                                <div class="group-field-block">
                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        
                                </div>
                                {{#if currentManagedObject.properties.length}}
                                {{#each_with_index currentManagedObject.properties}}
                                <div class="col-sm-11 managed-property">
                                    <div class="separate-message add-remove-block form-inline">
                                        <div class="input-group">
                                            <div class="input-group-addon">
                                               <button type="button" title="" class="clean-btn property-remove remove-btn"><i class="fa fa-lg fa-times-circle"></i></button>
                                            </div>
                                            <input data-validator-event="keyup blur" data-validator="required" class="form-control" autocomplete="off" type="text" name="properties[{{index}}].name" value="{{value.name}}"/>
                                            <span></span>
                                            <label class="inline-label">
                                                <input autocomplete="off" type="checkbox" class="checkbox" name="properties[{{index}}].encryption" {{#if value.encryption}} checked {{/if}}>
                                                {{t "templates.managed.encrypted"}}
                                            </label>
                                            <label class="inline-label">
                                                <input autocomplete="off" type="checkbox" class="checkbox" name="properties[{{index}}].scope" {{#if value.scope}} checked {{/if}}>
                                                {{t "templates.managed.private"}}
                                            </label>
                                            <label class="inline-label">
                                                <input autocomplete="off" type="checkbox" class="checkbox" name="properties[{{index}}].type" {{#if value.type}} checked {{/if}}>
                                                {{t "templates.managed.virtual"}}
                                            </label>
                                        </div>
                                        <div class="validation-message"></div>
                                    </div>
                                    <div>
                                        <label class="control-label">Add script for property events.</label>
                                        
                                        
                                        <div>
                                            <div class="col-sm-3">
                                                <select class="form-size-m select-button-form btn-block">
                                                    {{#each value.selectEvents}}
                                                    <option value="{{this}}">{{this}}</option>
                                                    {{/each}}
                                                </select>
                                            </div>
                                            <div class="col-sm-3">
                                                <button type="button" class="btn btn-primary add-property-script btn-block"><span>Add Script</span> <i class="fa fa-lg fa-plus"></i></button>
                                            </div>
                                            <div class="group-body col-lg-10 scripts-container">
                                                <div class="group-field-block">
                                                    {{#each value.addedEvents}}
                                                    <div data-script-type="{{this}}" class="managed-event-hook"></div>
                                                    {{/each}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {{/each_with_index}}
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div class="panel panel-connector panel-default panel-collapse">
                <div class="schema-panel">
                    <div class="panel-heading" role="tab" id="managedSchemaHeading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" href="#managedSchema" aria-expanded="true" aria-controls="managedSchemaHeading" class="">{{t "templates.managed.managedSchema"}}</a>
                        </h4>
                    </div>
                    <div id="managedSchema" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="managedSchema" aria-expanded="true">
                        <div class="panel-body">
                            <div class="schemaEditor jsonEditor"></div>
                        </div>
                    </div>
                </div>
                <div style="display:none;" id="managedErrorMessage" class="alert-box warning-message">
                    <p class="alert-message">
                        <i class="fa alert-message-icon"></i><span class="message-type">{{t "common.form.warning" }}!</span>
                        <span class="message"></span>
                    </p>
                </div>
                <div class="panel-footer clearfix">
                    <div class="pull-right">
                        <input type="submit" id="addEditManaged" name="addEditButton" value="{{addEditSubmitTitle}}" class="btn btn-primary" disabled="true"> 
                        <a href="#resources/"><input type="button" id="addEditCancel" name="cancel" value="{{t 'common.form.cancel'}}" class="btn btn-primary"></a>
                        <div style="clear:both;"></div>
                    </div>
                </div>
        </div>
    </div>
</div>
