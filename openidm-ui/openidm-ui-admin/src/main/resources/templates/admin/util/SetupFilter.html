<div>
    <form class="filter-form form">
        <div class="filter well">{{filterString}}</div>

        <div class="expressionTree">
            <fieldset>
                <div>

                    <ul>
                        <li index="" class="node">

                            {{#filterDisplay filter config}}

                            {{#if isExpr}}

                            <select class="op">
                                {{#each options}}
                                <option value="{{value}}" {{#selected}}selected{{/selected}}>{{label}}</option>
                                {{/each}}
                            </select>

                            <button type="button" field_type="baseContext" title="" class="clean-btn remove-btn"><i class="fa fa-lg fa-minus"></i></button>

                            <br>
                            {{#if extensible}}
                            <input type="text" value="{{extensible.matchType}}" class="name">
                            {{else}}
                            <input type="text" value="{{name}}" class="name">
                            {{/if}}

                            <select class="tag">
                                {{#each tags}}
                                <option value="{{value}}" {{#selected}}selected{{/selected}}>{{label}}</option>
                                {{/each}}
                            </select>

                            <input type="text" value="{{value}}" class="value">

                            {{else}}

                            <select class="op">
                                {{#each options}}
                                <option value="{{value}}" {{#selected}}selected{{/selected}}>{{label}}</option>
                                {{/each}}
                            </select>

                            {{#if isMultiValueType}}
                            <button type="button" field_type="baseContext" title="" class="clean-btn add-btn"><i class="fa fa-lg fa-plus"></i></button>
                            {{/if}}
                            {{/if}}

                            {{#if children.length}}

                            <ul>

                                {{#each children}}

                                <li index="{{index}}" class="node">

                                    {{{filterDisplay this ../../config}}}

                                    {{#unless lastChild}}
                                    <br>
                                    {{../../delimiter}}
                                    {{/unless}}

                                </li>

                                {{/each}}

                            </ul>

                            {{/if}}

                            {{/filterDisplay}}

                        </li>
                    </ul>

                </div>
            </fieldset>
        </div>
        {{#if showSubmitButton}}
        <div class="float-right group-actions-block">
            <input type="submit" value="{{t 'common.form.save'}}" class="btn btn-primary">
        </div>
        {{/if}}
    </form>
</div>