<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>OpenIDM Sample Page</title>
        <link type="text/css" href="resources/css/ui-forgerock/jquery-ui-1.8.14.custom.css" rel="stylesheet" />
        <link type="text/css" href="resources/css/main.css" rel="stylesheet" />	
		<script type="text/javascript" src="resources/js/jquery-1.6.2.js"></script>
		<script type="text/javascript" src="resources/js/jquery-ui-1.8.15.custom.min.js"></script>
		<script type="text/javascript">
			$(function(){

				// Accordion
				$("#accordion").accordion({ header: "h3" });

				// Tabs
				$('#tabs').tabs();


				// Dialog
				$('#dialog').dialog({
					autoOpen: false,
					width: 600,
					buttons: {
						"Ok": function() {
							$(this).dialog("close");
						},
						"Cancel": function() {
							$(this).dialog("close");
						}
					}
				});

				// Dialog Link
				$('#dialog_link').click(function(){
					$('#dialog').dialog('open');
					return false;
				});

				// Datepicker
				$('#datepicker').datepicker({
					inline: true
				});

				// Slider
				$('#slider').slider({
					range: true,
					values: [17, 67]
				});

				// Progressbar
				$("#progressbar").progressbar({
					value: 20
				});

				//hover states on the static widgets
				$('#dialog_link, ul#icons li').hover(
					function() { $(this).addClass('ui-state-hover'); },
					function() { $(this).removeClass('ui-state-hover'); }
				);

                $('#config_get').click(function() {
                    var pid = $('#pid').val();
                    $('#config_json').val(null);
                    if (pid.length != 0) {
                        $.getJSON('../openidm/config/org.forgerock.openidm.' + pid, function(data) {
                            $('#config_json').val(JSON.stringify(data));
                        });
                    } else {
                        $.getJSON('../openidm/config', function(data) {
                            jQuery.each(data.configurations, function() {
                                $('#config_json').val($('#config_json').val() + this._id + "\n");
                            });
                        });
                    }
                });

                $('#config_put').click(function() {
                    var text = $('#config_json').val();
                    var pid = $('#pid').val();
                    $.ajax({
                        type: 'PUT',
                        contentType: "application/json",
                        data: text,
                        dataType: 'json', // format of the response
                        success: function(msg) {
                            alert("Data Saved: " + msg._id);
                        },
                        error: function() {
                            alert("Error: " + msg._id);
                        },
                        url: '../openidm/config/org.forgerock.openidm.' + pid,
                        cache:false
                    });
                });

                $('#config_delete').click(function() {
                    var pid = $('#pid').val();
                    $.ajax({
                        type: 'DELETE',
                        success: function(msg) {
                            alert("Config Deleted: " + msg._id);
                        },
                        error: function() {
                            alert("Error: " + msg._id);
                        },
                        url: '../openidm/config/org.forgerock.openidm.' + pid,
                        cache:false
                    });
                });
				
			});
		</script>
    </head>
    <body>
        <div id="page">
        	<!-- Top -->
            <div id="top-content">
                <div id="header">
                    <div id="banner">                    
                	</div>
                    <div id="preferences">
                    <form action="index.xhtml" method="post" enctype="multipart/form-data" target="_self">
                    	<input name="username" type="text"/>
                        <input name="password" type="password"/>
                        <input name="login" type="button" value="Login"/>
                        <input name="register" type="button" value="Register"/>
                	</form>
                    </div>
                </div>
                <div id="top-menu">
                    <p>
                        <a href="../system/console">Console</a> |
                        <a href="../openidm/managed/user/?_query-id=query-all-ids">Query all</a> | Navigation | Navigation
                    </p>
                </div>
                <div id="breadcrumbs">
                    Home&gt;
                </div>
            </div>
            
            <!-- Middle -->
            <div id="middle-content">

                <!-- Tabs -->
                <h2 class="demoHeaders">Tabs</h2>

                <div id="tabs">
                    <ul>
                        <li><a href="#tabs-1">Configuration Service</a></li>
                        <li><a href="#tabs-2">Second</a></li>
                        <li><a href="#tabs-3">Third</a></li>
                    </ul>
                    <div id="tabs-1">
                        <table border="0">
                            <tr>
                                <td>Service PID</td>
                                <td>
                                    <input id="pid" type="text" name="pid"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Configuration JSON</td>
                                <td><textarea id="config_json" name="jsonConfig" rows="20" cols="80"></textarea></td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <input id="config_get" type="submit" value="Download"/>
                                    <input id="config_put" type="submit" value="Update"/>
                                    <input id="config_delete" type="submit" value="Delete"/>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div id="tabs-2">Phasellus mattis tincidunt nibh. Cras orci urna, blandit id, pretium vel,
                        aliquet ornare, felis. Maecenas scelerisque sem non nisl. Fusce sed lorem in enim dictum
                        bibendum.
                    </div>
                    <div id="tabs-3">Nam dui erat, auctor a, dignissim quis, sollicitudin eu, felis. Pellentesque
                        nisi urna, interdum eget, sagittis et, consequat vestibulum, lacus. Mauris porttitor
                        ullamcorper augue.
                    </div>
                </div>

                <div class="demo">

                    <!-- Accordion -->
                    <h2 class="demoHeaders">Accordion</h2>

                    <div id="accordion">
                        <div>
                            <h3><a href="#">First</a></h3>

                            <div>Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet.
                            </div>
                        </div>
                        <div>
                            <h3><a href="#">Second</a></h3>

                            <div>Phasellus mattis tincidunt nibh.</div>
                        </div>
                        <div>
                            <h3><a href="#">Third</a></h3>

                            <div>Nam dui erat, auctor a, dignissim quis.</div>
                        </div>
                    </div>

                    <!-- Dialog NOTE: Dialog is not generated by UI in this demo so it can be visually styled in themeroller-->
                    <h2 class="demoHeaders">Dialog</h2>

                    <p><a href="#" id="dialog_link" class="ui-state-default ui-corner-all"><span
                            class="ui-icon ui-icon-newwin"></span>Open Dialog</a></p>


                    <h2 class="demoHeaders">Overlay and Shadow Classes <em>(not currently used in UI widgets)</em></h2>

                    <div style="position: relative; width: 96%; height: 200px; padding:1% 4%; overflow:hidden;"
                         class="fakewindowcontain">
                        <p>Lorem ipsum dolor sit amet, Nulla nec tortor. Donec id elit quis purus consectetur
                            consequat. </p>

                        <p>Nam congue semper tellus. Sed erat dolor, dapibus sit amet, venenatis ornare, ultrices ut,
                            nisi. Aliquam ante. Suspendisse scelerisque dui nec velit. Duis augue augue, gravida
                            euismod, vulputate ac, facilisis id, sem. Morbi in orci. </p>

                        <p>Nulla purus lacus, pulvinar vel, malesuada ac, mattis nec, quam. Nam molestie scelerisque
                            quam. Nullam feugiat cursus lacus.orem ipsum dolor sit amet, consectetur adipiscing elit.
                            Donec libero risus, commodo vitae, pharetra mollis, posuere eu, pede. Nulla nec tortor.
                            Donec id elit quis purus consectetur consequat. </p>

                        <p>Nam congue semper tellus. Sed erat dolor, dapibus sit amet, venenatis ornare, ultrices ut,
                            nisi. Aliquam ante. Suspendisse scelerisque dui nec velit. Duis augue augue, gravida
                            euismod, vulputate ac, facilisis id, sem. Morbi in orci. Nulla purus lacus, pulvinar vel,
                            malesuada ac, mattis nec, quam. Nam molestie scelerisque quam. </p>

                        <p>Nullam feugiat cursus lacus.orem ipsum dolor sit amet, consectetur adipiscing elit. Donec
                            libero risus, commodo vitae, pharetra mollis, posuere eu, pede. Nulla nec tortor. Donec id
                            elit quis purus consectetur consequat. Nam congue semper tellus. Sed erat dolor, dapibus sit
                            amet, venenatis ornare, ultrices ut, nisi. Aliquam ante. </p>

                        <p>Suspendisse scelerisque dui nec velit. Duis augue augue, gravida euismod, vulputate ac,
                            facilisis id, sem. Morbi in orci. Nulla purus lacus, pulvinar vel, malesuada ac, mattis nec,
                            quam. Nam molestie scelerisque quam. Nullam feugiat cursus lacus.orem ipsum dolor sit amet,
                            consectetur adipiscing elit. Donec libero risus, commodo vitae, pharetra mollis, posuere eu,
                            pede. Nulla nec tortor. Donec id elit quis purus consectetur consequat. Nam congue semper
                            tellus. Sed erat dolor, dapibus sit amet, venenatis ornare, ultrices ut, nisi. </p>

                        <!-- ui-dialog -->
                        <div class="ui-overlay">
                            <div class="ui-widget-overlay"></div>
                            <div class="ui-widget-shadow ui-corner-all"
                                 style="width: 302px; height: 152px; position: absolute; left: 50px; top: 30px;"></div>
                        </div>
                        <div style="position: absolute; width: 280px; height: 130px;left: 50px; top: 30px; padding: 10px;"
                             class="ui-widget ui-widget-content ui-corner-all">
                            <div class="ui-dialog-content ui-widget-content" style="background: none; border: 0;">
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
                                    incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                    exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                            </div>
                        </div>

                    </div>


                    <!-- ui-dialog -->
                    <div id="dialog" title="Dialog Title">
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                            laboris nisi ut aliquip ex ea commodo consequat.</p>
                    </div>

                    <!-- Slider -->
                    <h2 class="demoHeaders">Slider</h2>

                    <div id="slider"></div>

                    <!-- Datepicker -->
                    <h2 class="demoHeaders">Datepicker</h2>

                    <div id="datepicker"></div>

                    <!-- Progressbar -->
                    <h2 class="demoHeaders">Progressbar</h2>

                    <div id="progressbar"></div>

                    <!-- Highlight / Error -->
                    <h2 class="demoHeaders">Highlight / Error</h2>

                    <div class="ui-widget">
                        <div class="ui-state-highlight ui-corner-all" style="margin-top: 20px; padding: 0 .7em;">
                            <p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span>
                                <strong>Hey!</strong> Sample ui-state-highlight style.</p>
                        </div>
                    </div>
                    <br/>

                    <div class="ui-widget">
                        <div class="ui-state-error ui-corner-all" style="padding: 0 .7em;">
                            <p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>
                                <strong>Alert:</strong> Sample ui-state-error style.</p>
                        </div>
                    </div>

                </div>
                <!-- End demo -->
                      
            </div>
            
            <!-- Bottom -->
            <div id="bottom-content">
                <div id="footer">
                    <div id="copyright">
                        <img alt="a-rockgroup-company" src="resources/images/a-rockgroup-company.png"/><br/>
                        <a href="mailto:info@forgerock.com">info@forgerock.com</a>, or phone +47 21520108.<br/>
                        Copyright &#169; 2011 ForgeRock. All rights reserved.
                    </div>
                </div>
            </div>
       </div>
    </body>
</html>